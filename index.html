<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
  <link rel="stylesheet" href="css/style.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.1.2/handlebars.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js"></script>

  <title>Boolflix</title>
</head>

<body>
  <div id="app">


    <!-- search bar -->
    <header>
      <div class="logo">
        <img src="img/logo.png" alt="Boolflix logo">
      </div>
      <div class="select">
        <i class="fas fa-search" @click="clicked()"></i>
        <input placeholder="Search a movie or a TV series" type="text"
               v-model="selected"
               @keyup.enter="search()"
               :class="{active: isActive, hidden: isHidden, growing: isGrowing}">
        <!-- <button type="button" name="button"
                @click="search()"
                :class="{active: isActive, hidden: isHidden}">
                Search
        </button> -->
      </div>
    </header>
    <!-- end search bar -->

    <!-- movies section -->
    <div class="movies-container main-container">

      <div class="section-title" v-if="movies != '' ">
        <h1>Movies</h1>
      </div>
      <!-- <div class="section-title" v-else="movies = '' ">
        <h1>No movies to show...yet!</h1>
      </div> -->


      <div class="content" v-for="(item, index) in movies">

        <!-- poster -->

        <!-- <div class="poster-container"
             v-if="item.poster_path != null"
             @mouseover="hover = true"
             @mouseleave="hover = false"
             :class="{hidden: hover}">
          <img class="poster" :src="posterUrl + item.poster_path" alt="">
        </div> -->
        <div class="poster-container"
             v-if="item.poster_path != null" >
          <img class="poster" :src="posterUrl + item.poster_path" alt="">
        </div>
        <div class="poster-container"
             v-else="">
          <img class="poster-placeholder" src="img/logo.png" alt="Boolflix logo">
        </div>
        <!-- end poster -->

        <!-- info and overview -->
        <div class="info visible">
          <ul>
            <li><span>Title: </span>{{item.title}}
            </li>
            <li><span>Original title: </span>{{item.original_title}}
            </li>
            <li><span>Original language: </span>
                <span v-if="flags.includes(!item.original_language)">
                  {{item.original_language}}
                </span>
                <span v-else>
                  <img class="flag" :src="'img/flags/' + item.original_language + '.png'">
                </span>
            </li>
            <li><span>Vote:
                  <i v-for="item in voteAverage(item.vote_average)" class="fas fa-star">
                  </i>
                  <i v-for="item in (5 - voteAverage(item.vote_average))" class="far fa-star">
                  </i>
                </span>
            </li>
            <li><span>Overview: </span> {{item.overview}}
            </li>
          </ul>





        </div>
        <!-- end info and overview -->


      </div>
    </div>
    <!-- end movies section -->

    <!-- tv series section -->
    <div class="movies-container main-container">

      <div class="section-title" v-if="tvSeries != '' ">
        <h1>TV Series</h1>
      </div>
      <!-- <div class="section-title" v-else="movies = '' ">
          <h1>No TV Series to show...yet!</h1>
        </div> -->

      <div class="content" v-for="item in tvSeries">

        <!-- poster -->
        <div class="poster-container" v-if="item.poster_path != null">
          <img class="poster" :src="posterUrl + item.poster_path" alt="">
        </div>
        <!-- end poster -->

        <!-- info and overview -->
        <div v-else="">
          <span>Title: <a>{{item.name}}</a></span>
          <span>Original title: <a>{{item.original_name}}</a></span>
          <span>Original language:</span>
          <span v-if="flags.includes(item.original_language)">
            <img class="flag" :src="'img/flags/' + item.original_language + '.png'" @error="$event.target.alt='file not found'">
          </span>
          <span>Vote:
            <i v-for="item in voteAverage(item.vote_average)" class="fas fa-star"></i>
            <i v-for="item in (5 - voteAverage(item.vote_average))" class="far fa-star"></i>
          </span>
        </div>
        <!-- end info and overview -->
      </div>
    </div>
    <!-- end tv series section -->

  </div>


  <script src="js/script.js" charset="utf-8"></script>
</body>

</html>
